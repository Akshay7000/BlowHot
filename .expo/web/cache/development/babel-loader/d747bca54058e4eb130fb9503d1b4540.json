{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport { ScrollView, TextInput } from 'react-native-gesture-handler';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { List, Searchbar } from 'react-native-paper';\nimport DatePicker from 'react-native-datepicker';\nimport { Button } from 'react-native-paper';\nimport Axios from 'axios';\nimport RBSheet from \"react-native-raw-bottom-sheet\";\nimport theme1 from \"../../components/styles/DarkTheme\";\nimport moment from 'moment';\nimport { AnimatedModal } from \"react-native-modal-animated\";\nimport Icon from \"@expo/vector-icons/Feather\";\nimport SelectTwo from \"../../components/SelectTwo\";\nimport { heightPercentageToDP as hp, widthPercentageToDP as wp } from \"../../responsiveLayout/ResponsiveLayout\";\nimport Spinner from 'react-native-loading-spinner-overlay';\nimport { RadioButton } from 'react-native-paper';\nimport SegmentedControlTab from 'react-native-segmented-control-tab';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\n\nfunction CallEntryList(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      loading = _useState2[0],\n      setLoading = _useState2[1];\n\n  var _useState3 = useState(),\n      _useState4 = _slicedToArray(_useState3, 2),\n      tableData = _useState4[0],\n      setTableData = _useState4[1];\n\n  var _useState5 = useState(),\n      _useState6 = _slicedToArray(_useState5, 2),\n      length = _useState6[0],\n      setLength = _useState6[1];\n\n  var _useState7 = useState(),\n      _useState8 = _slicedToArray(_useState7, 2),\n      data = _useState8[0],\n      setData = _useState8[1];\n\n  var _useState9 = useState(),\n      _useState10 = _slicedToArray(_useState9, 2),\n      searchName = _useState10[0],\n      setSearchName = _useState10[1];\n\n  var _useState11 = useState(),\n      _useState12 = _slicedToArray(_useState11, 2),\n      startDate = _useState12[0],\n      setStartDate = _useState12[1];\n\n  var _useState13 = useState(),\n      _useState14 = _slicedToArray(_useState13, 2),\n      endDate = _useState14[0],\n      setEndDate = _useState14[1];\n\n  var _useState15 = useState(),\n      _useState16 = _slicedToArray(_useState15, 2),\n      filteredData = _useState16[0],\n      setFilteredData = _useState16[1];\n\n  var _useState17 = useState(),\n      _useState18 = _slicedToArray(_useState17, 2),\n      routeName = _useState18[0],\n      setRouteName = _useState18[1];\n\n  var _useState19 = useState(0),\n      _useState20 = _slicedToArray(_useState19, 2),\n      selectedIndex = _useState20[0],\n      setSelectedIndex = _useState20[1];\n\n  var _useState21 = useState(false),\n      _useState22 = _slicedToArray(_useState21, 2),\n      visible = _useState22[0],\n      setVisible = _useState22[1];\n\n  var _useState23 = useState([]),\n      _useState24 = _slicedToArray(_useState23, 2),\n      selectedBuyerItems = _useState24[0],\n      setSelectedBuyerItems = _useState24[1];\n\n  var _useState25 = useState([]),\n      _useState26 = _slicedToArray(_useState25, 2),\n      selectedSellerItems = _useState26[0],\n      setSelectedSellerItems = _useState26[1];\n\n  var _useState27 = useState([]),\n      _useState28 = _slicedToArray(_useState27, 2),\n      selectedBrokerItems = _useState28[0],\n      setSelectedBrokerItems = _useState28[1];\n\n  var _useState29 = useState(\"\"),\n      _useState30 = _slicedToArray(_useState29, 2),\n      buyerId = _useState30[0],\n      setBuyerId = _useState30[1];\n\n  var _useState31 = useState(\"\"),\n      _useState32 = _slicedToArray(_useState31, 2),\n      selllerId = _useState32[0],\n      setSellerId = _useState32[1];\n\n  var _useState33 = useState(\"\"),\n      _useState34 = _slicedToArray(_useState33, 2),\n      brokerId = _useState34[0],\n      setBrokerId = _useState34[1];\n\n  var _useState35 = useState([]),\n      _useState36 = _slicedToArray(_useState35, 2),\n      buyerItems = _useState36[0],\n      setBuyerItems = _useState36[1];\n\n  var _useState37 = useState([]),\n      _useState38 = _slicedToArray(_useState37, 2),\n      sellerItems = _useState38[0],\n      setSellerItems = _useState38[1];\n\n  var _useState39 = useState([]),\n      _useState40 = _slicedToArray(_useState39, 2),\n      brokeritems = _useState40[0],\n      setBrokerItems = _useState40[1];\n\n  var _useState41 = useState(),\n      _useState42 = _slicedToArray(_useState41, 2),\n      buyer = _useState42[0],\n      setBuyer = _useState42[1];\n\n  var _useState43 = useState(),\n      _useState44 = _slicedToArray(_useState43, 2),\n      seller = _useState44[0],\n      setSeller = _useState44[1];\n\n  var _useState45 = useState(),\n      _useState46 = _slicedToArray(_useState45, 2),\n      broker = _useState46[0],\n      setBroker = _useState46[1];\n\n  var _useState47 = useState(0),\n      _useState48 = _slicedToArray(_useState47, 2),\n      count = _useState48[0],\n      setCount = _useState48[1];\n\n  var handleBuyerId = function handleBuyerId(item) {\n    setBuyer(item.name);\n    setBuyerId(item.id);\n  };\n\n  var handleSellerId = function handleSellerId(item) {\n    setSeller(item.name);\n    setSellerId(item.id);\n  };\n\n  var handleBrokerId = function handleBrokerId(item) {\n    setBroker(item.name);\n    setBrokerId(item.id);\n  };\n\n  var clearAll = function clearAll() {\n    setBuyerId(\"\");\n    setSellerId(\"\");\n    setBrokerId(\"\");\n    setBuyer(\"\");\n    setSeller(\"\");\n    setBroker(\"\");\n    setCount(count + 1);\n  };\n\n  useEffect(function () {}, [count]);\n\n  var handleSingleIndexSelect = function handleSingleIndexSelect(index) {\n    setSelectedIndex(index);\n    getDealerList(startDate, endDate, index);\n  };\n\n  var RBref = useRef();\n  useEffect(function () {\n    var unsubscribe = navigation.addListener('focus', function _callee() {\n      var todayDate, date;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              todayDate = moment(new Date()).format(\"DD/MM/YYYY\");\n              _context.t0 = moment;\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"startingDate\"));\n\n            case 4:\n              _context.t1 = _context.sent;\n              date = (0, _context.t0)(_context.t1).format(\"DD/MM/YYYY\");\n              setStartDate(date);\n              setEndDate(todayDate);\n              setRouteName(route.name);\n              getDealerList(date, todayDate, 0);\n\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    });\n    return unsubscribe;\n  }, [navigation]);\n\n  var getDealerList = function getDealerList(start, end, index) {\n    var user, masterid, compid, divid;\n    return _regeneratorRuntime.async(function getDealerList$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            setLoading(true);\n            _context2.next = 3;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"user\"));\n\n          case 3:\n            user = _context2.sent;\n            _context2.next = 6;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"masterid\"));\n\n          case 6:\n            masterid = _context2.sent;\n            _context2.next = 9;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"companyCode\"));\n\n          case 9:\n            compid = _context2.sent;\n            _context2.next = 12;\n            return _regeneratorRuntime.awrap(AsyncStorage.getItem(\"divisionCode\"));\n\n          case 12:\n            divid = _context2.sent;\n            Axios({\n              method: 'GET',\n              url: \"http://103.231.46.238:5000/c_visit_entry/mob_visitlist?name=\" + user + \"&masterid=\" + masterid + \"&compid=\" + compid + \"&divid=\" + divid + \"&start_date=\" + start + \"&end_date=\" + end\n            }).then(function (response) {\n              console.log(\"responsbe\", response.data.c_visit_entrySchema);\n              setLength(response.data.c_visit_entrySchema.length);\n              setData(response.data.c_visit_entrySchema);\n              setTableData(response.data.c_visit_entrySchema);\n              setFilteredData(response.data.c_visit_entrySchema);\n            });\n            setLoading(false);\n\n          case 15:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n\n  var filter = function filter(text) {\n    var array = _toConsumableArray(tableData);\n\n    var newArray = array.filter(function (table) {\n      var _table$Ship_party, _table$Ship_party$ACN, _table$Ship_party$ACN2, _table$ac_cty, _table$ac_cty$CallTyp, _table$ac_cty$CallTyp2;\n\n      return (table == null ? void 0 : (_table$Ship_party = table.Ship_party) == null ? void 0 : (_table$Ship_party$ACN = _table$Ship_party.ACName) == null ? void 0 : (_table$Ship_party$ACN2 = _table$Ship_party$ACN.toLowerCase()) == null ? void 0 : _table$Ship_party$ACN2.includes(text.toLowerCase())) || (table == null ? void 0 : (_table$ac_cty = table.ac_cty) == null ? void 0 : (_table$ac_cty$CallTyp = _table$ac_cty.CallType) == null ? void 0 : (_table$ac_cty$CallTyp2 = _table$ac_cty$CallTyp.toLowerCase()) == null ? void 0 : _table$ac_cty$CallTyp2.includes(text.toLowerCase()));\n    });\n    setFilteredData(newArray);\n  };\n\n  return _jsx(ScrollView, {\n    keyboardShouldPersistTaps: \"always\",\n    children: !loading ? _jsxs(_Fragment, {\n      children: [_jsx(View, {\n        style: {\n          borderBottomColor: 'grey',\n          borderBottomWidth: 0.5,\n          marginBottom: 0,\n          padding: 0,\n          margin: 0\n        }\n      }), _jsxs(View, {\n        style: {\n          display: \"flex\",\n          flexDirection: \"row\",\n          justifyContent: \"space-around\"\n        },\n        children: [_jsx(Searchbar, {\n          placeholder: \"Search\",\n          defaultValue: searchName,\n          onChangeText: function onChangeText(text) {\n            return filter(text);\n          },\n          style: {\n            borderWidth: 0.5,\n            width: wp(\"90%\"),\n            height: hp(\"4.5%\"),\n            flex: 0.95,\n            marginLeft: 10,\n            marginTop: 10,\n            padding: 5,\n            borderRadius: 10\n          }\n        }), _jsx(TouchableOpacity, {\n          style: {\n            height: hp(\"6%\"),\n            flex: 0.1,\n            marginLeft: 10,\n            backgroundColor: \"#D9D9D9\",\n            alignItems: \"center\",\n            padding: 5,\n            borderRadius: 10,\n            marginTop: 5,\n            paddingLeft: 5,\n            paddingRight: 5,\n            marginRight: 5\n          },\n          onPress: function onPress() {\n            return RBref.open();\n          },\n          children: _jsx(Icon, {\n            name: \"filter\",\n            size: wp(\"7%\"),\n            color: \"black\",\n            style: {\n              top: 5\n            }\n          })\n        })]\n      }), _jsx(View, {\n        style: {\n          borderBottomColor: 'grey',\n          borderBottomWidth: 0.5,\n          marginBottom: 0,\n          padding: 0,\n          margin: 10\n        }\n      }), _jsxs(View, {\n        children: [filteredData == null ? void 0 : filteredData.map(function (dat) {\n          var _dat$Ship_party, _dat$ac_cty;\n\n          return _jsxs(_Fragment, {\n            children: [_jsx(List.Section, {\n              style: {\n                top: 8\n              },\n              children: _jsx(List.Accordion, {\n                title: \"Dealer Name:\" + ((_dat$Ship_party = dat.Ship_party) == null ? void 0 : _dat$Ship_party.ACName),\n                description: \"Call Type:\" + ((_dat$ac_cty = dat.ac_cty) == null ? void 0 : _dat$ac_cty.CallType),\n                left: function left(props) {\n                  return _jsxs(View, {\n                    style: {\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      padding: 10,\n                      borderRightWidth: 0.6\n                    },\n                    children: [_jsxs(Text, {\n                      style: {\n                        fontSize: 15\n                      },\n                      children: [dat.vouc_code, \".\"]\n                    }), _jsx(Text, {\n                      style: {\n                        fontSize: 10\n                      },\n                      children: dat.so_date.substring(0, 10).split('-').reverse().join('/')\n                    })]\n                  });\n                },\n                children: dat.sales_or_group.map(function (prod, i) {\n                  var _prod$so_disc, _prod$brandid, _prod$model;\n\n                  return _jsxs(_Fragment, {\n                    children: [_jsx(View, {\n                      style: {\n                        borderBottomColor: 'black',\n                        borderBottomWidth: 1,\n                        marginBottom: 0,\n                        padding: 0,\n                        margin: 0\n                      }\n                    }), _jsxs(View, {\n                      style: {\n                        flex: 1,\n                        flexDirection: \"row\",\n                        backgroundColor: theme1.MEDIUM_BLUE_COLOR\n                      },\n                      children: [_jsx(List.Item, {\n                        title: \"Product\",\n                        description: (_prod$so_disc = prod.so_disc) == null ? void 0 : _prod$so_disc.Fg_Des,\n                        index: i,\n                        style: {\n                          marginTop: 5,\n                          flex: 0.3,\n                          borderRightWidth: 0.8\n                        }\n                      }), _jsx(List.Item, {\n                        title: \"Brand\",\n                        index: i,\n                        description: (_prod$brandid = prod.brandid) == null ? void 0 : _prod$brandid.Description,\n                        style: {\n                          marginTop: 5,\n                          flex: 0.3,\n                          borderRightWidth: 0.8\n                        }\n                      }), _jsx(List.Item, {\n                        title: \"Model\",\n                        index: i,\n                        description: (_prod$model = prod.model) == null ? void 0 : _prod$model.Description,\n                        style: {\n                          marginTop: 5,\n                          flex: 0.3,\n                          borderRightWidth: 0.8\n                        }\n                      }), _jsx(List.Item, {\n                        title: \"Quantity\",\n                        index: i,\n                        description: prod.so_qty,\n                        style: {\n                          marginTop: 5,\n                          flex: 0.3\n                        }\n                      })]\n                    })]\n                  });\n                })\n              })\n            }), _jsx(View, {\n              style: {\n                borderBottomColor: 'grey',\n                borderBottomWidth: 0.5,\n                marginBottom: 0,\n                padding: 0,\n                margin: 0\n              }\n            })]\n          });\n        }), _jsx(RBSheet, {\n          animationType: \"fade\",\n          ref: function ref(_ref2) {\n            RBref = _ref2;\n          },\n          openDuration: 250,\n          customStyles: {\n            container: {\n              borderTopEndRadius: 20,\n              borderTopStartRadius: 20,\n              backgroundColor: theme1.LIGHT_BLUE_COLOR,\n              height: hp(\"40%\")\n            }\n          },\n          children: _jsxs(ScrollView, {\n            keyboardShouldPersistTaps: \"always\",\n            children: [_jsxs(View, {\n              style: {\n                display: \"flex\",\n                flexDirection: \"row\",\n                paddingLeft: 10\n              },\n              children: [_jsx(Text, {\n                style: {\n                  width: wp(\"10%\"),\n                  flex: 0.35,\n                  marginTop: 22,\n                  fontSize: wp(\"3%\")\n                },\n                children: \"Start Date:\"\n              }), _jsx(DatePicker, {\n                style: {\n                  width: wp('80%'),\n                  borderRadius: 5,\n                  margin: 10,\n                  flex: 0.65\n                },\n                date: startDate,\n                mode: \"date\",\n                placeholder: \"Date\",\n                format: \"DD/MM/YYYY\",\n                confirmBtnText: \"Confirm\",\n                cancelBtnText: \"Cancel\",\n                customStyles: {\n                  dateIcon: {\n                    position: 'absolute',\n                    left: 40000,\n                    top: 9,\n                    marginLeft: 0,\n                    height: hp(\"2.8%\"),\n                    width: wp(\"3.5%\")\n                  },\n                  dateInput: {\n                    borderRadius: 10,\n                    marginRight: 15,\n                    height: hp(\"4%\")\n                  }\n                },\n                onDateChange: function onDateChange(date) {\n                  setStartDate(date);\n                }\n              }), _jsx(Text, {\n                style: {\n                  width: wp(\"10%\"),\n                  flex: 0.3,\n                  marginTop: 22,\n                  fontSize: wp(\"3%\")\n                },\n                children: \"End Date:\"\n              }), _jsx(DatePicker, {\n                style: {\n                  width: wp('80%'),\n                  borderRadius: 5,\n                  margin: 10,\n                  flex: 0.7\n                },\n                date: endDate,\n                mode: \"date\",\n                placeholder: \"Date\",\n                format: \"DD/MM/YYYY\",\n                confirmBtnText: \"Confirm\",\n                cancelBtnText: \"Cancel\",\n                customStyles: {\n                  dateIcon: {\n                    position: 'absolute',\n                    left: 40000,\n                    top: 9,\n                    marginLeft: 0,\n                    height: hp(\"2.8%\"),\n                    width: wp(\"3.5%\")\n                  },\n                  dateInput: {\n                    borderRadius: 10,\n                    marginRight: 15,\n                    height: hp(\"4%\")\n                  }\n                },\n                onDateChange: function onDateChange(date) {\n                  setEndDate(date);\n                }\n              })]\n            }), _jsx(View, {\n              style: [styles.column, {\n                justifyContent: \"center\"\n              }],\n              children: _jsx(TouchableOpacity, {\n                style: styles.button1,\n                onPress: function onPress() {\n                  return getDealerList(startDate, endDate, selectedIndex);\n                },\n                children: _jsx(Text, {\n                  style: {\n                    color: \"white\"\n                  },\n                  children: \"Show\"\n                })\n              })\n            })]\n          })\n        })]\n      })]\n    }) : _jsx(ActivityIndicator, {\n      size: \"large\",\n      color: \"skyblue\",\n      size: 100\n    })\n  });\n}\n\nexport default CallEntryList;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    padding: 16,\n    paddingTop: 30,\n    backgroundColor: '#fff'\n  },\n  singleHead: {\n    width: 80,\n    height: 40,\n    backgroundColor: '#c8e1ff'\n  },\n  title: {\n    backgroundColor: '#f6f8fa'\n  },\n  titleText: {\n    textAlign: 'center'\n  },\n  text: {\n    textAlign: 'center'\n  },\n  btn: {\n    width: 58,\n    height: 18,\n    marginHorizontal: 7,\n    backgroundColor: '#c8e1ff',\n    borderRadius: 2,\n    justifyContent: \"center\"\n  },\n  btnText: {\n    textAlign: 'center'\n  },\n  cnt: {\n    flex: 1,\n    padding: 32,\n    paddingTop: 80,\n    justifyContent: 'flex-start'\n  },\n  spinnerTextStyle: {\n    color: '#FFF'\n  },\n  tabStyle: {\n    borderColor: theme1.MEDIUM_BLUE_COLOR\n  },\n  activeTabStyle: {\n    backgroundColor: theme1.MEDIUM_BLUE_COLOR\n  },\n  button1: {\n    flex: 1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: wp(\"40%\"),\n    backgroundColor: theme1.DARK_BLUE_COLOR,\n    padding: 10,\n    paddingHorizontal: 25,\n    marginHorizontal: 20,\n    borderRadius: 10,\n    marginBottom: 20\n  },\n  column: {\n    display: \"flex\",\n    flexDirection: \"row\"\n  }\n});","map":{"version":3,"sources":["D:/Web/mobileapp/Blowhot/screens/Home/CallEntry/CallEntryList.js"],"names":["React","useState","useEffect","useRef","ScrollView","TextInput","AsyncStorage","List","Searchbar","DatePicker","Button","Axios","RBSheet","theme1","moment","AnimatedModal","Icon","SelectTwo","heightPercentageToDP","hp","widthPercentageToDP","wp","Spinner","RadioButton","SegmentedControlTab","CallEntryList","navigation","route","loading","setLoading","tableData","setTableData","length","setLength","data","setData","searchName","setSearchName","startDate","setStartDate","endDate","setEndDate","filteredData","setFilteredData","routeName","setRouteName","selectedIndex","setSelectedIndex","visible","setVisible","selectedBuyerItems","setSelectedBuyerItems","selectedSellerItems","setSelectedSellerItems","selectedBrokerItems","setSelectedBrokerItems","buyerId","setBuyerId","selllerId","setSellerId","brokerId","setBrokerId","buyerItems","setBuyerItems","sellerItems","setSellerItems","brokeritems","setBrokerItems","buyer","setBuyer","seller","setSeller","broker","setBroker","count","setCount","handleBuyerId","item","name","id","handleSellerId","handleBrokerId","clearAll","handleSingleIndexSelect","index","getDealerList","RBref","unsubscribe","addListener","todayDate","Date","format","getItem","date","start","end","user","masterid","compid","divid","method","url","then","response","console","log","c_visit_entrySchema","filter","text","array","newArray","table","Ship_party","ACName","toLowerCase","includes","ac_cty","CallType","borderBottomColor","borderBottomWidth","marginBottom","padding","margin","display","flexDirection","justifyContent","borderWidth","width","height","flex","marginLeft","marginTop","borderRadius","backgroundColor","alignItems","paddingLeft","paddingRight","marginRight","open","top","map","dat","props","borderRightWidth","fontSize","vouc_code","so_date","substring","split","reverse","join","sales_or_group","prod","i","MEDIUM_BLUE_COLOR","so_disc","Fg_Des","brandid","Description","model","so_qty","ref","container","borderTopEndRadius","borderTopStartRadius","LIGHT_BLUE_COLOR","dateIcon","position","left","dateInput","styles","column","button1","color","StyleSheet","create","paddingTop","singleHead","title","titleText","textAlign","btn","marginHorizontal","btnText","cnt","spinnerTextStyle","tabStyle","borderColor","activeTabStyle","DARK_BLUE_COLOR","paddingHorizontal"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { View, Text, StyleSheet, ActivityIndicator,TouchableOpacity } from 'react-native';\nimport { ScrollView, TextInput } from 'react-native-gesture-handler';\nimport AsyncStorage from '@react-native-async-storage/async-storage'\nimport { List, Searchbar } from 'react-native-paper';\nimport DatePicker from 'react-native-datepicker'\nimport { Button } from 'react-native-paper'\nimport Axios from 'axios';\nimport RBSheet from \"react-native-raw-bottom-sheet\";\nimport theme1 from \"../../components/styles/DarkTheme\"\nimport moment from 'moment';\nimport {AnimatedModal} from \"react-native-modal-animated\";\nimport Icon from 'react-native-vector-icons/Feather';\nimport SelectTwo from '../../components/SelectTwo'\nimport {\n  heightPercentageToDP as hp,\n  widthPercentageToDP as wp,\n} from '../../responsiveLayout/ResponsiveLayout'\nimport Spinner from 'react-native-loading-spinner-overlay';\nimport { RadioButton } from 'react-native-paper';\nimport SegmentedControlTab from 'react-native-segmented-control-tab';\n\n\n\nfunction CallEntryList({ navigation, route }) {\n\n\n\n  const [loading, setLoading] = useState(true)\n\n  const [tableData, setTableData] = useState()\n  const [length, setLength] = useState()\n  const [data, setData] = useState()\n  const [searchName, setSearchName] = useState()\n  const [startDate, setStartDate] = useState()\n  const [endDate, setEndDate] = useState()\n  const [filteredData, setFilteredData] = useState()\n  const [routeName, setRouteName] = useState()\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [visible, setVisible] = useState(false)\n\n  const [selectedBuyerItems, setSelectedBuyerItems] = useState([])\n  const [selectedSellerItems, setSelectedSellerItems] = useState([])\n  const [selectedBrokerItems, setSelectedBrokerItems] = useState([])\n\n  \n  const [buyerId, setBuyerId] = useState(\"\");\n  const [selllerId, setSellerId] = useState(\"\");\n  const [brokerId, setBrokerId] = useState(\"\");\n\n  \n  const [buyerItems, setBuyerItems] = useState([])\n  const [sellerItems, setSellerItems] = useState([])\n  const [brokeritems, setBrokerItems] = useState([])\n  const [buyer,setBuyer]=useState()\n  const[seller,setSeller]=useState()\n  const[broker,setBroker]=useState()\n  const[count,setCount]=useState(0)\n\n  const handleBuyerId = (item) => {\n    setBuyer(item.name)\n    setBuyerId(item.id)\n    }\n\nconst handleSellerId = (item) => {\n    setSeller(item.name)\n    setSellerId(item.id)\n}\nconst handleBrokerId = (item) => {\n    setBroker(item.name)\n    setBrokerId(item.id)\n}\n\nconst clearAll=()=>{\n\n  setBuyerId(\"\")\n  setSellerId(\"\")\n  setBrokerId(\"\")\n  setBuyer(\"\")\n  setSeller(\"\")\n  setBroker(\"\")\n  setCount(count+1)\n}\n\n\nuseEffect(() => {\n  \n // getDealerList(startDate,endDate,selectedIndex)\n}, [count]);\n\n  const handleSingleIndexSelect = (index) => {\n    // For single Tab Selection SegmentedControlTab\n    setSelectedIndex(index);\n    getDealerList(startDate, endDate, index);\n  };\n\n\n  \n  var RBref = useRef()\n\n  useEffect(() => {\n    const unsubscribe = navigation.addListener('focus', async () => {\n  \n      let todayDate = moment(new Date()).format(\"DD/MM/YYYY\")\n      let date = moment(await AsyncStorage.getItem(\"startingDate\")).format(\"DD/MM/YYYY\")\n      \n      setStartDate(date)\n      setEndDate(todayDate)\n      setRouteName(route.name)\n      getDealerList(date, todayDate, 0);\n    })\n    return unsubscribe;\n  }, [navigation])\n\n\n  \n\n  const getDealerList = async (start, end, index) => {\n    \n    setLoading(true)\n    const user = await AsyncStorage.getItem(\"user\")\n    const masterid = await AsyncStorage.getItem(\"masterid\");\n    const compid=await AsyncStorage.getItem(\"companyCode\");\n     const divid=await AsyncStorage.getItem(\"divisionCode\")\n    Axios({\n      method: 'GET',\n      url: `http://103.231.46.238:5000/c_visit_entry/mob_visitlist?name=${user}&masterid=${masterid}&compid=${compid}&divid=${divid}&start_date=${start}&end_date=${end}`,\n      })\n      .then(response => {\n        console.log(\"responsbe\",response.data.c_visit_entrySchema)\n        setLength(response.data.c_visit_entrySchema.length)\n        setData(response.data.c_visit_entrySchema)\n        setTableData(response.data.c_visit_entrySchema)\n        setFilteredData(response.data.c_visit_entrySchema)\n      })\n   setLoading(false)\n  }\n\n\n  const filter = (text) => {\n    const array = [...tableData]\n    const newArray = array.filter(table => (\n      ((table?.Ship_party?.ACName)?.toLowerCase())?.includes(text.toLowerCase())) || ((table?.ac_cty?.CallType)?.toLowerCase())?.includes(text.toLowerCase())\n\n    )\n    setFilteredData(newArray)\n}\n\n\n  return (\n\n\n\n    <ScrollView keyboardShouldPersistTaps='always' >\n\n\n\n      {\n        !loading ?\n          <>\n\n            <View style={{ borderBottomColor: 'grey', borderBottomWidth: 0.5, marginBottom: 0, padding: 0, margin: 0 }} />\n\n            <View style={{ display: \"flex\", flexDirection: \"row\", justifyContent: \"space-around\" }}>\n\n              <Searchbar\n                placeholder=\"Search\"\n                defaultValue={searchName}\n                onChangeText={text => filter(text)}\n                style={{\n                  borderWidth: 0.5, width: wp(\"90%\"), height: hp(\"4.5%\"), flex: 0.95, marginLeft: 10,\n                  marginTop: 10, padding: 5, borderRadius: 10\n                }}\n              />\n              <TouchableOpacity style={{\n                height: hp(\"6%\"), flex: 0.1,\n                marginLeft: 10, backgroundColor: \"#D9D9D9\",\n                alignItems:\"center\",\n                padding: 5, borderRadius: 10, marginTop: 5,\n                paddingLeft: 5, paddingRight:5,marginRight:5\n              }}\n                onPress={() => RBref.open()}>\n                <Icon name=\"filter\" size={wp(\"7%\")} color=\"black\"\n                  style={{ top: 5 }} />\n              </TouchableOpacity>\n            </View>\n            <View style={{ borderBottomColor: 'grey', borderBottomWidth: 0.5, marginBottom: 0, padding: 0, margin: 10 }} />\n\n            <View>\n              {\n                filteredData?.map(dat => (\n                  <>\n                    <List.Section style={{ top: 8 }} >\n                      <List.Accordion\n                        title={`Dealer Name:${dat.Ship_party?.ACName}`}\n                        description={`Call Type:${dat.ac_cty?.CallType}`}\n                        left={props =>\n                          <View style={{ display: \"flex\", flexDirection: \"column\", padding: 10, borderRightWidth: 0.6 }}>\n                            <Text style={{ fontSize: 15 }}>{dat.vouc_code}.</Text>\n                            <Text style={{ fontSize: 10 }}>{((dat.so_date).substring(0, 10)).split('-').reverse().join('/')}</Text>\n                          </View>\n                        }>\n\n                        {dat.sales_or_group.map((prod, i) => (\n                          <>\n                            <View style={{ borderBottomColor: 'black', borderBottomWidth: 1, marginBottom: 0, padding: 0, margin: 0 }} />\n\n                            <View style={{ flex: 1, flexDirection: \"row\", backgroundColor: theme1.MEDIUM_BLUE_COLOR }}>\n                               <List.Item title=\"Product\" description={prod.so_disc?.Fg_Des} index={i} style={{ marginTop: 5, flex: 0.3, borderRightWidth: 0.8 }} />\n                              <List.Item title=\"Brand\" index={i} description={prod.brandid?.Description} style={{ marginTop: 5, flex: 0.3, borderRightWidth: 0.8 }} />\n                              <List.Item title=\"Model\" index={i} description={prod.model?.Description} style={{ marginTop: 5, flex: 0.3, borderRightWidth: 0.8 }} />\n                              <List.Item title=\"Quantity\" index={i} description={prod.so_qty} style={{ marginTop: 5, flex: 0.3}} />\n                              </View>\n\n                          </>\n\n                        ))}\n                      </List.Accordion>\n                    </List.Section>\n                    <View style={{ borderBottomColor: 'grey', borderBottomWidth: 0.5, marginBottom: 0, padding: 0, margin: 0 }} />\n                  </>\n                ))}\n\n\n\n              <RBSheet\n              animationType=\"fade\"\n                ref={ref => {\n                  RBref = ref;\n                }}\n                openDuration={250}\n                customStyles={{\n                  container: {\n                    borderTopEndRadius: 20,\n                    borderTopStartRadius: 20,\n                    backgroundColor: theme1.LIGHT_BLUE_COLOR,\n                    height: hp(\"40%\")\n                  }\n                }}\n              >\n<ScrollView keyboardShouldPersistTaps='always' >\n                <View style={{ display: \"flex\", flexDirection: \"row\", paddingLeft: 10 }}>\n                  <Text style={{ width: wp(\"10%\"), flex: 0.35, marginTop: 22, fontSize: (wp(\"3%\")) }}>Start Date:</Text>\n                  <DatePicker\n\n                    style={{ width: wp('80%'), borderRadius: 5, margin: 10, flex: 0.65 }}\n                    date={startDate}\n                    mode=\"date\"\n                    placeholder=\"Date\"\n                    format=\"DD/MM/YYYY\"\n\n                    confirmBtnText=\"Confirm\"\n                    cancelBtnText=\"Cancel\"\n                    customStyles={{\n                      dateIcon: {\n                        position: 'absolute',\n                        left: 40000,\n                        top: 9,\n                        marginLeft: 0,\n                        height: hp(\"2.8%\"),\n                        width: wp(\"3.5%\")\n\n                      },\n                      dateInput: {\n                        borderRadius: 10,\n                        marginRight: 15,\n                        height: hp(\"4%\")\n\n                      }\n                      // ... You can check the source to find the other keys.\n                    }}\n                    onDateChange={(date) => {\n                      setStartDate(date)\n                    }}\n                  />\n                  <Text style={{ width: wp(\"10%\"), flex: 0.3, marginTop: 22, fontSize: wp(\"3%\") }}>End Date:</Text>\n                  <DatePicker\n\n                    style={{ width: wp('80%'), borderRadius: 5, margin: 10, flex: 0.7 }}\n                    date={endDate}\n                    mode=\"date\"\n                    placeholder=\"Date\"\n                    format=\"DD/MM/YYYY\"\n\n                    confirmBtnText=\"Confirm\"\n                    cancelBtnText=\"Cancel\"\n                    customStyles={{\n                      dateIcon: {\n\n                        position: 'absolute',\n                        left: 40000,\n                        top: 9,\n                        marginLeft: 0,\n                        height: hp(\"2.8%\"),\n                        width: wp(\"3.5%\")\n                      },\n                      dateInput: {\n                        borderRadius: 10,\n                        marginRight: 15,\n                        height: hp(\"4%\")\n                      }\n                      // ... You can check the source to find the other keys.\n                    }}\n                    onDateChange={(date) => {\n                      setEndDate(date)\n                    }}\n                  />\n\n                </View>\n\n               \n\n\n              \n\n            \n                <View style={[styles.column, { justifyContent: \"center\" }]}>\n\n          \n                  <TouchableOpacity style={styles.button1} onPress={() => getDealerList(startDate, endDate, selectedIndex) }>\n\n                    <Text style={{ color: \"white\" }}>Show</Text>\n                  </TouchableOpacity>\n               \n\n                </View>\n                </ScrollView>\n              </RBSheet>\n            </View>\n\n          </> :\n\n          <ActivityIndicator size=\"large\" color=\"skyblue\" size={100} />\n\n      }\n\n    </ScrollView>\n\n  )\n}\n\nexport default CallEntryList\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 16, paddingTop: 30, backgroundColor: '#fff' },\n  singleHead: { width: 80, height: 40, backgroundColor: '#c8e1ff' },\n  title: { backgroundColor: '#f6f8fa' },\n  titleText: { textAlign: 'center' },\n  text: { textAlign: 'center' },\n  btn: { width: 58, height: 18, marginHorizontal: 7, backgroundColor: '#c8e1ff', borderRadius: 2, justifyContent: \"center\" },\n  btnText: { textAlign: 'center' },\n  cnt: {\n    flex: 1,\n    padding: 32,\n    paddingTop: 80,\n    justifyContent: 'flex-start',\n  },\n  spinnerTextStyle: {\n    color: '#FFF'\n  },\n  tabStyle: {\n    borderColor: theme1.MEDIUM_BLUE_COLOR,\n  },\n  activeTabStyle: {\n    backgroundColor: theme1.MEDIUM_BLUE_COLOR,\n  },\n  button1: {\n    flex:1,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    width: wp(\"40%\"),\n    backgroundColor: theme1.DARK_BLUE_COLOR,\n    padding: 10,\n    paddingHorizontal: 25,\n    marginHorizontal:20,\n    borderRadius: 10,\n    marginBottom: 20,\n\n  },\n  column: {\n    display: \"flex\",\n    flexDirection: \"row\",\n\n  },\n});"]},"metadata":{},"sourceType":"module"}